-- 1

fn alloc(|T| bytes: u64) -> *T:
  return null

fn drop(|T| ptr: *T) -> void:
  pass

fn main(argc: u32, argv: **u8) -> i32:
  r: i32 = 0
  
  ptr: *u8 = alloc(|u8| 2)
  defer drop(|u8| ptr)

  -- this is actually executed before the drop
  r = 1

  -- dropped here (after r is loaded)
  return r
